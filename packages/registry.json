{
  "$schema": "https://microbuild.dev/registry.schema.json",
  "version": "1.0.0",
  "name": "microbuild",
  "description": "A collection of copy-and-own components for building Directus-compatible CMS frontends",
  "license": "MIT",
  "repository": "https://github.com/your-org/microbuild",
  
  "meta": {
    "model": "copy-own",
    "framework": "react",
    "uiLibrary": "mantine-v8",
    "typescript": true
  },

  "aliases": {
    "@/lib/microbuild": "./lib/microbuild",
    "@/components/ui": "./components/ui"
  },

  "dependencies": {
    "core": ["@mantine/core", "@mantine/hooks", "react", "react-dom"],
    "icons": ["@tabler/icons-react"],
    "dates": ["@mantine/dates", "dayjs"],
    "dropzone": ["@mantine/dropzone"],
    "notifications": ["@mantine/notifications"],
    "richText": ["@tiptap/react", "@tiptap/starter-kit", "@tiptap/extension-link"]
  },

  "lib": {
    "utils": {
      "name": "utils",
      "description": "Utility functions (cn, formatFileSize, etc.)",
      "path": "cli/templates/lib/utils.ts",
      "target": "lib/microbuild/utils.ts"
    },
    "types": {
      "name": "types",
      "description": "Core TypeScript types for collections, fields, files, and relations",
      "files": [
        {
          "source": "types/src/core.ts",
          "target": "lib/microbuild/types/core.ts"
        },
        {
          "source": "types/src/file.ts",
          "target": "lib/microbuild/types/file.ts"
        },
        {
          "source": "types/src/relations.ts",
          "target": "lib/microbuild/types/relations.ts"
        },
        {
          "source": "cli/templates/lib/types/index.ts",
          "target": "lib/microbuild/types/index.ts"
        }
      ]
    },
    "services": {
      "name": "services",
      "description": "CRUD service classes for items, fields, and collections",
      "files": [
        {
          "source": "services/src/api-request.ts",
          "target": "lib/microbuild/services/api-request.ts"
        },
        {
          "source": "services/src/items.ts",
          "target": "lib/microbuild/services/items.ts"
        },
        {
          "source": "services/src/fields.ts",
          "target": "lib/microbuild/services/fields.ts"
        },
        {
          "source": "services/src/collections.ts",
          "target": "lib/microbuild/services/collections.ts"
        },
        {
          "source": "cli/templates/lib/services/index.ts",
          "target": "lib/microbuild/services/index.ts"
        }
      ],
      "internalDependencies": ["types"]
    },
    "hooks": {
      "name": "hooks",
      "description": "React hooks for managing relational data (M2M, M2O, O2M, M2A)",
      "files": [
        {
          "source": "hooks/src/api.ts",
          "target": "lib/microbuild/hooks/api.ts"
        },
        {
          "source": "hooks/src/utils.ts",
          "target": "lib/microbuild/hooks/utils.ts"
        },
        {
          "source": "hooks/src/useFiles.ts",
          "target": "lib/microbuild/hooks/useFiles.ts"
        },
        {
          "source": "hooks/src/useRelationM2M.ts",
          "target": "lib/microbuild/hooks/useRelationM2M.ts"
        },
        {
          "source": "hooks/src/useRelationM2MItems.ts",
          "target": "lib/microbuild/hooks/useRelationM2MItems.ts"
        },
        {
          "source": "hooks/src/useRelationM2O.ts",
          "target": "lib/microbuild/hooks/useRelationM2O.ts"
        },
        {
          "source": "hooks/src/useRelationO2M.ts",
          "target": "lib/microbuild/hooks/useRelationO2M.ts"
        },
        {
          "source": "hooks/src/useRelationM2A.ts",
          "target": "lib/microbuild/hooks/useRelationM2A.ts"
        },
        {
          "source": "cli/templates/lib/hooks/index.ts",
          "target": "lib/microbuild/hooks/index.ts"
        }
      ],
      "internalDependencies": ["types", "services"]
    }
  },

  "components": [
    {
      "name": "input",
      "title": "Input",
      "description": "Text input with validation, numeric support, and slug conversion",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/input/Input.tsx",
          "target": "components/ui/input.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "textarea",
      "title": "Textarea",
      "description": "Multi-line text input with character count",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/textarea/Textarea.tsx",
          "target": "components/ui/textarea.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "input-code",
      "title": "InputCode",
      "description": "Code editor with syntax highlighting and line numbers",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/input-code/InputCode.tsx",
          "target": "components/ui/input-code.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks"],
      "internalDependencies": []
    },
    {
      "name": "tags",
      "title": "Tags",
      "description": "Tag input with presets and custom tags",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/tags/Tags.tsx",
          "target": "components/ui/tags.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "select-dropdown",
      "title": "SelectDropdown",
      "description": "Dropdown select with search and custom option support",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-dropdown/SelectDropdown.tsx",
          "target": "components/ui/select-dropdown.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "select-radio",
      "title": "SelectRadio",
      "description": "Radio button group with customizable layout",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-radio/SelectRadio.tsx",
          "target": "components/ui/select-radio.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "select-multiple-checkbox",
      "title": "SelectMultipleCheckbox",
      "description": "Checkbox group with 'other' option support",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-multiple-checkbox/SelectMultipleCheckbox.tsx",
          "target": "components/ui/select-multiple-checkbox.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "select-multiple-checkbox-tree",
      "title": "SelectMultipleCheckboxTree",
      "description": "Tree-based multi-select checkbox with hierarchical choices",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-multiple-checkbox/SelectMultipleCheckboxTree.tsx",
          "target": "components/ui/select-multiple-checkbox-tree.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "select-multiple-dropdown",
      "title": "SelectMultipleDropdown",
      "description": "Dropdown-based multi-select with search support",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-multiple-checkbox/SelectMultipleDropdown.tsx",
          "target": "components/ui/select-multiple-dropdown.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "select-icon",
      "title": "SelectIcon",
      "description": "Icon picker with categorized Tabler icons",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/select-icon/SelectIcon.tsx",
          "target": "components/ui/select-icon.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "autocomplete-api",
      "title": "AutocompleteAPI",
      "description": "External API-backed autocomplete input",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/autocomplete-api/AutocompleteApi.tsx",
          "target": "components/ui/autocomplete-api.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks"],
      "internalDependencies": []
    },
    {
      "name": "collection-item-dropdown",
      "title": "CollectionItemDropdown",
      "description": "Collection item selector dropdown",
      "category": "selection",
      "files": [
        {
          "source": "ui-interfaces/src/collection-item-dropdown/CollectionItemDropdown.tsx",
          "target": "components/ui/collection-item-dropdown.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks"],
      "internalDependencies": ["types", "services"]
    },
    {
      "name": "datetime",
      "title": "DateTime",
      "description": "Date, time, and datetime picker",
      "category": "datetime",
      "files": [
        {
          "source": "ui-interfaces/src/datetime/DateTime.tsx",
          "target": "components/ui/datetime.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/dates", "dayjs"],
      "internalDependencies": []
    },
    {
      "name": "boolean",
      "title": "Boolean",
      "description": "Checkbox toggle for boolean fields",
      "category": "boolean",
      "files": [
        {
          "source": "ui-interfaces/src/boolean/Boolean.tsx",
          "target": "components/ui/boolean.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "toggle",
      "title": "Toggle",
      "description": "Enhanced switch toggle with icons and state labels",
      "category": "boolean",
      "files": [
        {
          "source": "ui-interfaces/src/toggle/Toggle.tsx",
          "target": "components/ui/toggle.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "file",
      "title": "FileInterface",
      "description": "Single file upload with preview",
      "category": "media",
      "files": [
        {
          "source": "ui-interfaces/src/file/FileInterface.tsx",
          "target": "components/ui/file.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": ["types"]
    },
    {
      "name": "file-image",
      "title": "FileImage",
      "description": "Image file picker with preview and focal point",
      "category": "media",
      "files": [
        {
          "source": "ui-interfaces/src/file-image/FileImage.tsx",
          "target": "components/ui/file-image.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": ["types"]
    },
    {
      "name": "files",
      "title": "Files",
      "description": "Multiple file upload interface with drag & drop",
      "category": "media",
      "files": [
        {
          "source": "ui-interfaces/src/files/Files.tsx",
          "target": "components/ui/files.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": ["types", "hooks"]
    },
    {
      "name": "upload",
      "title": "Upload",
      "description": "Drag-and-drop file upload zone",
      "category": "media",
      "files": [
        {
          "source": "ui-interfaces/src/upload/Upload.tsx",
          "target": "components/ui/upload.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/dropzone"],
      "internalDependencies": []
    },
    {
      "name": "color",
      "title": "Color",
      "description": "Color picker with RGB/HSL support, presets, and opacity",
      "category": "media",
      "files": [
        {
          "source": "ui-interfaces/src/color/Color.tsx",
          "target": "components/ui/color.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "list-m2m",
      "title": "ListM2M",
      "description": "Many-to-Many relationship interface with inline editing",
      "category": "relational",
      "files": [
        {
          "source": "ui-interfaces/src/list-m2m/ListM2M.tsx",
          "target": "components/ui/list-m2m.tsx"
        },
        {
          "source": "ui-interfaces/src/list-m2m/ListM2MInterface.tsx",
          "target": "components/ui/list-m2m-interface.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": ["types", "hooks", "services"],
      "registryDependencies": ["collection-form", "collection-list"]
    },
    {
      "name": "list-m2o",
      "title": "ListM2O",
      "description": "Many-to-One relationship interface",
      "category": "relational",
      "files": [
        {
          "source": "ui-interfaces/src/list-m2o/ListM2O.tsx",
          "target": "components/ui/list-m2o.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": ["types", "hooks", "services"]
    },
    {
      "name": "list-o2m",
      "title": "ListO2M",
      "description": "One-to-Many relationship interface",
      "category": "relational",
      "files": [
        {
          "source": "ui-interfaces/src/list-o2m/ListO2M.tsx",
          "target": "components/ui/list-o2m.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": ["types", "hooks", "services"]
    },
    {
      "name": "list-m2a",
      "title": "ListM2A",
      "description": "Many-to-Any polymorphic relationship interface",
      "category": "relational",
      "files": [
        {
          "source": "ui-interfaces/src/list-m2a/ListM2A.tsx",
          "target": "components/ui/list-m2a.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/hooks", "@tabler/icons-react"],
      "internalDependencies": ["types", "hooks", "services"]
    },
    {
      "name": "divider",
      "title": "Divider",
      "description": "Horizontal/vertical divider with title support",
      "category": "layout",
      "files": [
        {
          "source": "ui-interfaces/src/divider/Divider.tsx",
          "target": "components/ui/divider.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "notice",
      "title": "Notice",
      "description": "Alert/notice component (info, success, warning, danger)",
      "category": "layout",
      "files": [
        {
          "source": "ui-interfaces/src/notice/Notice.tsx",
          "target": "components/ui/notice.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "group-detail",
      "title": "GroupDetail",
      "description": "Collapsible form section with header",
      "category": "layout",
      "files": [
        {
          "source": "ui-interfaces/src/group-detail/GroupDetail.tsx",
          "target": "components/ui/group-detail.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "slider",
      "title": "Slider",
      "description": "Range slider with numeric type support",
      "category": "layout",
      "files": [
        {
          "source": "ui-interfaces/src/slider/Slider.tsx",
          "target": "components/ui/slider.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "rich-text-html",
      "title": "RichTextHtml",
      "description": "WYSIWYG HTML editor powered by TipTap",
      "category": "rich-text",
      "files": [
        {
          "source": "ui-interfaces/src/rich-text-html/RichTextHtml.tsx",
          "target": "components/ui/rich-text-html.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tiptap/react", "@tiptap/starter-kit", "@tiptap/extension-link"],
      "internalDependencies": []
    },
    {
      "name": "rich-text-markdown",
      "title": "RichTextMarkdown",
      "description": "Markdown editor with live preview",
      "category": "rich-text",
      "files": [
        {
          "source": "ui-interfaces/src/rich-text-markdown/RichTextMarkdown.tsx",
          "target": "components/ui/rich-text-markdown.tsx"
        }
      ],
      "dependencies": ["@mantine/core"],
      "internalDependencies": []
    },
    {
      "name": "collection-form",
      "title": "CollectionForm",
      "description": "Dynamic form that auto-renders fields based on collection schema",
      "category": "collection",
      "files": [
        {
          "source": "ui-collections/src/CollectionForm.tsx",
          "target": "components/ui/collection-form.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@mantine/notifications"],
      "internalDependencies": ["types", "services"],
      "registryDependencies": ["input", "textarea", "select-dropdown", "datetime", "toggle", "boolean"]
    },
    {
      "name": "collection-list",
      "title": "CollectionList",
      "description": "Dynamic table with pagination, search, selection, and bulk actions",
      "category": "collection",
      "files": [
        {
          "source": "ui-collections/src/CollectionList.tsx",
          "target": "components/ui/collection-list.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": ["types", "services"]
    },
    {
      "name": "map",
      "title": "Map",
      "description": "Placeholder map component for geometry input (no map library)",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/map/Map.tsx",
          "target": "components/ui/map.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react"],
      "internalDependencies": []
    },
    {
      "name": "map-with-real-map",
      "title": "MapWithRealMap",
      "description": "Full-featured map with MapLibre GL JS and drawing tools",
      "category": "input",
      "files": [
        {
          "source": "ui-interfaces/src/map/MapWithRealMap.tsx",
          "target": "components/ui/map-with-real-map.tsx"
        }
      ],
      "dependencies": ["@mantine/core", "@tabler/icons-react", "maplibre-gl", "@mapbox/mapbox-gl-draw"],
      "internalDependencies": []
    }
  ],

  "categories": [
    {
      "name": "input",
      "title": "Input",
      "description": "Text and data input components"
    },
    {
      "name": "selection",
      "title": "Selection",
      "description": "Dropdowns, checkboxes, and selection components"
    },
    {
      "name": "datetime",
      "title": "Date & Time",
      "description": "Date and time picker components"
    },
    {
      "name": "boolean",
      "title": "Boolean",
      "description": "Toggle and checkbox components"
    },
    {
      "name": "media",
      "title": "Media",
      "description": "File upload and media components"
    },
    {
      "name": "relational",
      "title": "Relational",
      "description": "Relationship management components (M2M, M2O, O2M)"
    },
    {
      "name": "layout",
      "title": "Layout",
      "description": "Layout and organizational components"
    },
    {
      "name": "rich-text",
      "title": "Rich Text",
      "description": "Rich text and content editing components"
    },
    {
      "name": "collection",
      "title": "Collection",
      "description": "Dynamic collection components"
    }
  ]
}
